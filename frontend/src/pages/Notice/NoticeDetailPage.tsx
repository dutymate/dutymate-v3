// import React from 'react';
import { useNavigate, useParams } from 'react-router-dom';
import { FaChevronLeft } from 'react-icons/fa';
import { useEffect, useState } from 'react';
import axiosInstance from '@/lib/axios';
// import { Button } from '@/components/atoms/Button';
import { toast } from 'react-toastify';
import DOMPurify from 'dompurify';
import { useUserAuthStore } from '../../stores/userAuthStore';

interface NoticeDetail {
  noticeId: number;
  title: string;
  content: string;
  createdAt: string;
  isPinned: boolean;
}

const NoticeDetailPage = () => {
  const navigate = useNavigate();
  const { noticeId } = useParams();
  const [notice, setNotice] = useState<NoticeDetail | null>(null);
  const [loading, setLoading] = useState(true);

  const token = useUserAuthStore((state) => state.userInfo?.token);
  const email = useUserAuthStore((state) => state.userInfo?.email);
  const isAdmin = token && email === 'dutymate.net@gmail.com';

  useEffect(() => {
    axiosInstance.get(`/notice/${noticeId}`).then((res) => {
      setNotice(res.data);
      setLoading(false);
    });
  }, [noticeId]);

  //   useEffect(() => {
  //     if (noticeId) {
  //       // API í˜¸ì¶œ ëŒ€ì‹  ë”ë¯¸ ë°ì´í„° ì‚¬ìš©
  //       const dummyNotices: Record<number, NoticeDetail> = {
  //         4: {
  //           noticeId: 4,
  //           title: 'ğŸ“¢ ë“€í‹°ë©”ì´íŠ¸ Ver.2.4.0 ì¶œì‹œ ì•ˆë‚´',
  //           content: `ì•ˆë…•í•˜ì„¸ìš”! ë“€í‹°ë©”ì´íŠ¸ì˜ ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ ì†Œì‹ì„ ì „í•´ë“œë¦½ë‹ˆë‹¤.

  // 1. í‰ê°„í˜¸ì‚¬ë‹˜, ì´ì œ ë“€í‹°í‘œ ì§ì ‘ ê´€ë¦¬í•˜ì„¸ìš” âœ¨
  // â€¢ ë³‘ë™ ì…ì¥ ì—†ì´ë„ ë‚˜ì˜ ë“€í‹°í‘œ ë“±ë¡ ê°€ëŠ¥
  // â€¢ í„°ì¹˜ í•œ ë²ˆìœ¼ë¡œ ê·¼ë¬´ ë“±ë¡
  // â€¢ ê·¼ë¬´ë³„ ìƒ‰ìƒ ì»¤ìŠ¤í…€ ì„¤ì •
  // â€¢ ê°œì¸ ì¼ì •ë„ í•¨ê»˜ ê¸°ë¡ ê°€ëŠ¥

  // 2. ì¹œêµ¬ì™€ ê·¼ë¬´í‘œ ê³µìœ ë„ ê°„í¸í•˜ê²Œ ğŸ‘¥
  // â€¢ ë™ë£Œì™€ ê·¼ë¬´í‘œ ê³µìœ 
  // â€¢ ëª¨ë‘ ì‰´ ìˆ˜ ìˆëŠ” ë‚ ì§œ ìë™ ì¶”ì²œ

  // 3. ìë™ ìƒì„± ê¸°ëŠ¥ì´ ë” ë˜‘ë˜‘í•´ì¡Œì–´ìš” ğŸ¤–ğŸ’¡
  // â€¢ ê³µíœ´ì¼ ë° ì„ì‹œê³µíœ´ì¼ ìë™ ë°˜ì˜
  // â€¢ ë°˜ë ¤ëœ ìš”ì²­ ìš°ì„  ë°˜ì˜
  // â€¢ ê·¼ë¬´ ê°•ë„ ë° Off ì¼ìˆ˜ ì„¤ì • ê°€ëŠ¥
  // â€¢ ìˆ˜ê°„í˜¸ì‚¬ê°€ ëŒ€ì‹  ìš”ì²­ ë“±ë¡ ê°€ëŠ¥

  // ğŸ“© ê¶ê¸ˆí•œ ì ì€ ìš°ì¸¡ í•˜ë‹¨ ì±„ë„í†¡ìœ¼ë¡œ í¸í•˜ê²Œ ë¬¸ì˜ ì£¼ì„¸ìš”! ğŸ˜Š`,
  //           createdAt: '2025-02-15T09:00:00.000Z',
  //           isPinned: true,
  //         },
  //         1: {
  //           noticeId: 1,
  //           title: 'ì„œë¹„ìŠ¤ ì´ìš© ì•ˆë‚´',
  //           content: `ë“€í‹°ë©”ì´íŠ¸ ì„œë¹„ìŠ¤ ì´ìš© ì•ˆë‚´ì…ë‹ˆë‹¤.

  // 1. ì„œë¹„ìŠ¤ ì†Œê°œ
  // ë“€í‹°ë©”ì´íŠ¸ëŠ” ê°„í˜¸ì‚¬ì™€ ë³‘ì›ì„ ìœ„í•œ ìŠ¤ì¼€ì¤„ ê´€ë¦¬ ë° ê·¼ë¬´ ê´€ë¦¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. íš¨ìœ¨ì ì¸ ê·¼ë¬´ ì¼ì • ê´€ë¦¬ì™€ ì›í™œí•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.

  // 2. ì£¼ìš” ê¸°ëŠ¥ ì†Œê°œ
  // 2.1 ìŠ¤ì¼€ì¤„ ê´€ë¦¬
  // â€¢ ì›”ê°„/ì£¼ê°„/ì¼ê°„ ìŠ¤ì¼€ì¤„ ì¡°íšŒ
  // â€¢ ê·¼ë¬´ ì¼ì • ë“±ë¡ ë° ìˆ˜ì •
  // â€¢ ê·¼ë¬´ íŒ¨í„´ ì„¤ì • ë° ê´€ë¦¬
  // â€¢ íœ´ê°€ ë° íŠ¹ë³„ ê·¼ë¬´ ì‹ ì²­

  // 2.2 ê·¼ë¬´ ê´€ë¦¬
  // â€¢ ì´ˆê³¼ ê·¼ë¬´ ê´€ë¦¬
  // â€¢ íœ´ê°€ ì”ì—¬ì¼ í™•ì¸
  // â€¢ ê·¼ë¬´ ì´ë ¥ ì¡°íšŒ

  // 2.3 ì»¤ë®¤ë‹ˆì¼€ì´ì…˜
  // â€¢ ê³µì§€ì‚¬í•­ í™•ì¸
  // â€¢ ìµëª… ì»¤ë®¤ë‹ˆì¼€ì´ì…˜

  // 2.4 í†µê³„ ë° ë¦¬í¬íŠ¸
  // â€¢ ê°œì¸ë³„ ê·¼ë¬´ í†µê³„
  // â€¢ íŒ€ë³„ ê·¼ë¬´ í˜„í™©
  // â€¢ ì›”ê°„ ê·¼ë¬´í‘œ íŒŒì¼ì¼ ìƒì„±
  // â€¢ ê·¼ë¬´ íŒ¨í„´ ë¶„ì„

  // 3. ì„œë¹„ìŠ¤ ì´ìš© ë°©ë²•
  // 3.1 íšŒì›ê°€ì…
  // â€¢ ì´ë©”ì¼ ì¸ì¦ì„ í†µí•œ ê°€ì…
  // â€¢ í•„ìˆ˜ ì •ë³´ ì…ë ¥ (ì´ë¦„, ì—°ì°¨, ì„±ë³„, ì§ìœ„)

  // 3.2 ë¡œê·¸ì¸
  // â€¢ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸
  // â€¢ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°

  // 3.3 ê¶Œí•œ ì„¤ì •
  // â€¢ ë³‘ì› ê´€ë¦¬ì: ì „ì²´ ê¸°ëŠ¥ ì ‘ê·¼ ê°€ëŠ¥
  // â€¢ ì¼ë°˜ ì‚¬ìš©ì: ê°œì¸ ìŠ¤ì¼€ì¤„ ê´€ë¦¬ ë° ì¡°íšŒ , ì•½ì†ì¡ê¸° ê¸°ëŠ¥ëŠ¥

  // 4. ìì£¼ ë¬»ëŠ” ì§ˆë¬¸
  // Q: íœ´ê°€ ì‹ ì²­ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?
  // A: ë‚˜ì˜ ë“€í‹°í‘œë‚˜ ë³‘ë™ ë“€í‹°í‘œ ë©”ë‰´ì—ì„œ ê·¼ë¬´ ìš”ì²­ ë²„íŠ¼ì„ í†µí•´ ë“±ë¡í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

  // 5. ê³ ê° ì§€ì›
  // â€¢ ì´ë©”ì¼: dutymate.net@gmail.com
  // â€¢ ì „í™”: 010-8610-8485
  // â€¢ ìš´ì˜ì‹œê°„: í‰ì¼ 09:00 - 18:00

  // ì‹œí–‰ì¼: 2025-02-01`,
  //           createdAt: '2025-02-15T09:00:00.000Z',
  //           isPinned: false,
  //         },
  //         2: {
  //           noticeId: 2,
  //           title: 'ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨',
  //           content: `ë“€í‹°ë©”ì´íŠ¸(ì´í•˜ "íšŒì‚¬"ë¼ í•©ë‹ˆë‹¤)ëŠ” ì´ìš©ìì˜ ê°œì¸ì •ë³´ë¥¼ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ë©°, ê´€ë ¨ ë²•ë ¹ì„ ì¤€ìˆ˜í•˜ì—¬ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë³¸ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì€ íšŒì‚¬ê°€ ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤ì—ì„œ ì´ìš©ìì˜ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘, ì´ìš©, ë³´ê´€, ë³´í˜¸í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

  // 1. ì´ì¹™
  // ë“€í‹°ë©”ì´íŠ¸(ì´í•˜ "íšŒì‚¬"ë¼ í•©ë‹ˆë‹¤)ëŠ” ì´ìš©ìì˜ ê°œì¸ì •ë³´ë¥¼ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ë©°, ê´€ë ¨ ë²•ë ¹ì„ ì¤€ìˆ˜í•˜ì—¬ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë³¸ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì€ íšŒì‚¬ê°€ ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤ì—ì„œ ì´ìš©ìì˜ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘, ì´ìš©, ë³´ê´€, ë³´í˜¸í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

  // 2. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª© ë° ìˆ˜ì§‘ ë°©ë²•
  // 2.1 ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©
  // íšŒì‚¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  // â€¢ í•„ìˆ˜ ì •ë³´: ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ì´ë¦„, ì—°ì°¨, ì„±ë³„, ì§ìœ„
  // â€¢ ì„ íƒ ì •ë³´: í”„ë¡œí•„ ì‚¬ì§„
  // â€¢ ìë™ ìˆ˜ì§‘ ì •ë³´: ì„œë¹„ìŠ¤ ì´ìš© ê¸°ë¡, ì ‘ì† ë¡œê·¸, ì¿ í‚¤, ê¸°ê¸° ì •ë³´

  // 2.2 ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë°©ë²•
  // â€¢ ì„œë¹„ìŠ¤ ê°€ì… ë° ì´ìš© ê³¼ì •ì—ì„œ ì´ìš©ìê°€ ì§ì ‘ ì…ë ¥
  // â€¢ ìë™í™”ëœ ê¸°ìˆ ì„ í†µí•œ ìˆ˜ì§‘ (ì¿ í‚¤ ë° ë¡œê·¸ ë¶„ì„ ë„êµ¬ í™œìš©)

  // 3. ê°œì¸ì •ë³´ì˜ ì´ìš© ëª©ì 
  // â€¢ íšŒì› ê°€ì… ë° ê´€ë¦¬
  // â€¢ ì„œë¹„ìŠ¤ ì œê³µ ë° ìš´ì˜
  // â€¢ ê³ ê° ë¬¸ì˜ ì‘ëŒ€ ë° ê¸°ìˆ  ì§€ì›
  // â€¢ ì„œë¹„ìŠ¤ ê°œì„  ë° ë§ì¶¤í˜• ì½˜í…ì¸  ì œê³µ
  // â€¢ ë²•ì  ì˜ë¬´ ì¤€ìˆ˜ ë° ë³´ì•ˆ ê°•í™”

  // 4. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš© ê¸°ê°„
  // íšŒì‚¬ëŠ” ì´ìš©ìì˜ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘ ë° ì´ìš© ëª©ì ì´ ë‹¬ì„±ëœ í›„ ì§€ì²´ ì—†ì´ íŒŒê¸°í•©ë‹ˆë‹¤. ë‹¨, ê´€ë ¨ ë²•ë ¹ì— ë”°ë¼ ë³´ì¡´í•´ì•¼ í•˜ëŠ” ê²½ìš° ì¼ì • ê¸°ê°„ ë™ì•ˆ ë³´ê´€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  // â€¢ ì†Œë¹„ì ë¶ˆë§Œ ë° ë¶„ìŸ ì²˜ë¦¬ ê¸°ë¡: 3ë…„ (ì „ììƒê±°ë˜ë²•)
  // â€¢ ë¡œê·¸ ê¸°ë¡ ë° ì ‘ì† ê¸°ë¡: 3ê°œì›” (í†µì‹ ë¹„ë°€ë³´í˜¸ë²•)

  // 5. ê°œì¸ì •ë³´ì˜ ì œ3ì ì œê³µ
  // íšŒì‚¬ëŠ” ì´ìš©ìì˜ ê°œì¸ì •ë³´ë¥¼ ì›ì¹™ì ìœ¼ë¡œ ì™¸ë¶€ì— ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ì•„ë˜ì˜ ê²½ìš°ì—ëŠ” ì˜ˆì™¸ë¡œ í•©ë‹ˆë‹¤.
  // â€¢ ì´ìš©ìê°€ ì‚¬ì „ì— ë™ì˜í•œ ê²½ìš°
  // â€¢ ë²•ë ¹ì— ì˜í•´ ìš”êµ¬ë˜ëŠ” ê²½ìš°
  // â€¢ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ í•„ìš”í•œ ìµœì†Œí•œì˜ ì •ë³´ ì œê³µì´ í•„ìš”í•œ ê²½ìš° (ì˜ˆ: ê²°ì œ ëŒ€í–‰ì‚¬, í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì œê³µì—…ì²´ ë“±)

  // 6. ê°œì¸ì •ë³´ì˜ ì²˜ë¦¬ ìœ„íƒ
  // íšŒì‚¬ëŠ” ì›í™œí•œ ì„œë¹„ìŠ¤ ìš´ì˜ì„ ìœ„í•´ ì¼ë¶€ ê°œì¸ì •ë³´ ì²˜ë¦¬ë¥¼ ì™¸ë¶€ì— ìœ„íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„íƒ ì—…ì²´ì™€ ìœ„íƒí•˜ëŠ” ì—…ë¬´ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.
  // â€¢ AWS (Amazon Web Services): í´ë¼ìš°ë“œ ì„œë²„ ìš´ì˜ ë° ë°ì´í„° ë³´ê´€

  // íšŒì‚¬ëŠ” ìœ„íƒ ê³„ì•½ ì‹œ ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•œ ê¸°ìˆ ì Â·ê´€ë¦¬ì  ì¡°ì¹˜ë¥¼ ë§ˆë ¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

  // 7. ì´ìš©ìì˜ ê¶Œë¦¬ ë° í–‰ì‚¬ ë°©ë²•
  // ì´ìš©ìëŠ” ì–¸ì œë“ ì§€ ë³¸ì¸ì˜ ê°œì¸ì •ë³´ë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆìœ¼ë©°, ì‚­ì œ ë° ì²˜ë¦¬ ì •ì§€ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì„œë¹„ìŠ¤ ë‚´ ì„¤ì • ë©”ë‰´ ë˜ëŠ” ê³ ê°ì„¼í„°ë¥¼ í†µí•´ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  // 8. ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•œ ì¡°ì¹˜
  // â€¢ ê¸°ìˆ ì  ë³´í˜¸ ì¡°ì¹˜: ì•”í˜¸í™” ì €ì¥, ë°©í™”ë²½ ë° ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ ìš´ì˜
  // â€¢ ê´€ë¦¬ì  ë³´í˜¸ ì¡°ì¹˜: ê°œì¸ì •ë³´ ì ‘ê·¼ ê¶Œí•œ ì œí•œ, ì •ê¸°ì ì¸ ë³´ì•ˆ êµìœ¡ ì‹¤ì‹œ
  // â€¢ ë¬¼ë¦¬ì  ë³´í˜¸ ì¡°ì¹˜: ì„œë²„ ë° ë°ì´í„°ì„¼í„° ì ‘ê·¼ í†µì œ

  // 9. ê°œì¸ì •ë³´ ë³´í˜¸ ì±…ì„ì ë° ì—°ë½ì²˜
  // íšŒì‚¬ëŠ” ì´ìš©ìì˜ ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ ì±…ì„ìë¥¼ ì§€ì •í•˜ê³  ìˆìœ¼ë©°, ê°œì¸ì •ë³´ ë³´í˜¸ì™€ ê´€ë ¨í•œ ë¬¸ì˜ì‚¬í•­ì€ ì•„ë˜ ì—°ë½ì²˜ë¥¼ í†µí•´ ì ‘ìˆ˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  // â€¢ ê°œì¸ì •ë³´ ë³´í˜¸ ì±…ì„ì: í•œì¢…ìš°
  // â€¢ ì´ë©”ì¼: jongwooo.han@gmail.com
  // â€¢ ì—°ë½ì²˜: 010-8610-8485

  // 10. ê°œì • ë° ê³µì§€
  // ë³¸ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì€ ê´€ë ¨ ë²•ë ¹ ë° ë‚´ë¶€ ì •ì±…ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë©°, ë³€ê²½ ì‚¬í•­ì€ ì„œë¹„ìŠ¤ ë‚´ ê³µì§€ì‚¬í•­ì„ í†µí•´ ì‚¬ì „ì— ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.

  // ì‹œí–‰ì¼: 2025-01-02`,
  //           createdAt: '2025-02-01T09:00:00.000Z',
  //           isPinned: false,
  //         },
  //         3: {
  //           noticeId: 3,
  //           title: 'ì´ìš©ì•½ê´€',
  //           content: `ë“€í‹°ë©”ì´íŠ¸ ì´ìš©ì•½ê´€ì…ë‹ˆë‹¤.

  // ì œ1ì¥ ì´ì¹™

  // ì œ1ì¡° (ëª©ì )
  // ë³¸ ì•½ê´€ì€ ë“€í‹°ë©”ì´íŠ¸(ì´í•˜ "íšŒì‚¬")ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì‚¬ì™€ ì´ìš©ì ê°„ì˜ ê¶Œë¦¬, ì˜ë¬´ ë° ì±…ì„ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.

  // ì œ2ì¡° (ì •ì˜)
  // 1. "ì„œë¹„ìŠ¤"ë€ íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ìŠ¤ì¼€ì¤„ ê´€ë¦¬ ë° ê·¼ë¬´ ê´€ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ë§í•©ë‹ˆë‹¤.
  // 2. "ì´ìš©ì"ë€ íšŒì‚¬ì˜ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” íšŒì›ì„ ë§í•©ë‹ˆë‹¤.
  // 3. "íšŒì›"ì´ë€ íšŒì‚¬ì— ê°œì¸ì •ë³´ë¥¼ ì œê³µí•˜ì—¬ íšŒì›ë“±ë¡ì„ í•œ ìë¥¼ ë§í•©ë‹ˆë‹¤.

  // ì œ3ì¡° (ì•½ê´€ì˜ íš¨ë ¥ ë° ë³€ê²½)
  // 1. ë³¸ ì•½ê´€ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê³ ì í•˜ëŠ” ëª¨ë“  ì´ìš©ìì—ê²Œ ì ìš©ë©ë‹ˆë‹¤.
  // 2. íšŒì‚¬ëŠ” í•„ìš”í•œ ê²½ìš° ì•½ê´€ì„ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë©°, ë³€ê²½ëœ ì•½ê´€ì€ ì„œë¹„ìŠ¤ ë‚´ ê³µì§€ì‚¬í•­ì— ê²Œì‹œí•¨ìœ¼ë¡œì¨ íš¨ë ¥ì´ ë°œìƒí•©ë‹ˆë‹¤.

  // ì œ2ì¥ ì„œë¹„ìŠ¤ ì´ìš©

  // ì œ4ì¡° (ì„œë¹„ìŠ¤ì˜ ì œê³µ)
  // 1. íšŒì‚¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤:
  //    - ìŠ¤ì¼€ì¤„ ê´€ë¦¬ ì„œë¹„ìŠ¤
  //    - ê·¼ë¬´ ê´€ë¦¬ ì„œë¹„ìŠ¤
  //    - ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì„œë¹„ìŠ¤
  //    - í†µê³„ ë° ë¦¬í¬íŠ¸ ì„œë¹„ìŠ¤

  // 2. íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ì˜ ë‚´ìš© ë° ì œê³µì¼ì„ íšŒì›ì—ê²Œ ì‚¬ì „ í†µì§€í•˜ê³ , ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ì—¬ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  // ì œ5ì¡° (ì„œë¹„ìŠ¤ ì´ìš© ì‹œê°„)
  // 1. ì„œë¹„ìŠ¤ëŠ” ì—°ì¤‘ë¬´íœ´, 1ì¼ 24ì‹œê°„ ì œê³µì„ ì›ì¹™ìœ¼ë¡œ í•©ë‹ˆë‹¤.
  // 2. íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ì˜ ì œê³µì— í•„ìš”í•œ ê²½ìš° ì •ê¸°ì ê²€ì„ ì‹¤ì‹œí•  ìˆ˜ ìˆìœ¼ë©°, ì •ê¸°ì ê²€ì‹œê°„ì€ ì„œë¹„ìŠ¤ì œê³µí™”ë©´ì— ê³µì§€í•œ ë°”ì— ë”°ë¦…ë‹ˆë‹¤.

  // ì œ3ì¥ íšŒì›ì˜ ê¶Œë¦¬ì™€ ì˜ë¬´

  // ì œ6ì¡° (íšŒì›ì˜ ì˜ë¬´)
  // 1. íšŒì›ì€ ë‹¤ìŒ í–‰ìœ„ë¥¼ í•˜ì—¬ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤:
  //    - ì„œë¹„ìŠ¤ ì´ìš©ì„ ë°©í•´í•˜ëŠ” í–‰ìœ„
  //    - íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë¥¼ ë„ìš©í•˜ëŠ” í–‰ìœ„
  //    - í—ˆìœ„ ì •ë³´ë¥¼ ë“±ë¡í•˜ëŠ” í–‰ìœ„
  //    - ì„œë¹„ìŠ¤ì˜ ì •ìƒì ì¸ ìš´ì˜ì„ ë°©í•´í•˜ëŠ” í–‰ìœ„

  // 2. íšŒì›ì€ ê´€ê³„ë²•ë ¹, ë³¸ ì•½ê´€ì˜ ê·œì •, ì´ìš©ì•ˆë‚´ ë° ì£¼ì˜ì‚¬í•­ ë“± íšŒì‚¬ê°€ í†µì§€í•˜ëŠ” ì‚¬í•­ì„ ì¤€ìˆ˜í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

  // ì œ7ì¡° (íšŒì›ì˜ ê¶Œë¦¬)
  // 1. íšŒì›ì€ ì„œë¹„ìŠ¤ ì´ìš©ì„ í†µí•´ ìì‹ ì˜ ìŠ¤ì¼€ì¤„ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  // 2. íšŒì›ì€ ì„œë¹„ìŠ¤ ë‚´ì—ì„œ ì œê³µë˜ëŠ” í†µê³„ ë° ë¦¬í¬íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  // 3. íšŒì›ì€ ì„œë¹„ìŠ¤ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì‚¬ì— ê°œì„ ì‚¬í•­ì„ ì œì•ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  // ì œ4ì¥ ì„œë¹„ìŠ¤ ì œê³µìì˜ ì˜ë¬´

  // ì œ8ì¡° (ì„œë¹„ìŠ¤ ì œê³µìì˜ ì˜ë¬´)
  // 1. íšŒì‚¬ëŠ” ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ìµœì„ ì„ ë‹¤í•©ë‹ˆë‹¤.
  // 2. íšŒì‚¬ëŠ” íšŒì›ì˜ ê°œì¸ì •ë³´ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•´ ë³´ì•ˆì‹œìŠ¤í…œì„ ê°–ì¶”ê³  ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì„ ê³µì‹œí•˜ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.
  // 3. íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì›ìœ¼ë¡œë¶€í„° ì œê¸°ëœ ì˜ê²¬ì´ë‚˜ ë¶ˆë§Œì´ ì •ë‹¹í•˜ë‹¤ê³  ì¸ì •í•  ê²½ìš° ì´ë¥¼ ì²˜ë¦¬í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

  // ì œ5ì¥ ê¸°íƒ€

  // ì œ9ì¡° (ì±…ì„ì œí•œ)
  // 1. íšŒì‚¬ëŠ” ì²œì¬ì§€ë³€, ì „ìŸ, ê¸°ê°„í†µì‹ ì‚¬ì—…ìì˜ ì„œë¹„ìŠ¤ ì¤‘ì§€ ë“± ë¶ˆê°€í•­ë ¥ì ì¸ ì‚¬ìœ ë¡œ ì¸í•œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ì— ëŒ€í•˜ì—¬ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
  // 2. íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì›ì˜ ê·€ì±…ì‚¬ìœ ë¡œ ì¸í•œ ì†í•´ì— ëŒ€í•˜ì—¬ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.

  // ì œ10ì¡° (ë¶„ìŸí•´ê²°)
  // 1. íšŒì‚¬ì™€ íšŒì› ê°„ ë°œìƒí•œ ë¶„ìŸì€ ìƒí˜¸ í˜‘ì˜í•˜ì—¬ í•´ê²°í•©ë‹ˆë‹¤.
  // 2. í˜‘ì˜ê°€ ì´ë£¨ì–´ì§€ì§€ ì•Šì„ ê²½ìš°, ê´€ë ¨ ë²•ë ¹ ë° ìƒê´€ë¡€ì— ë”°ë¦…ë‹ˆë‹¤.

  // ì‹œí–‰ì¼: 2025-02-01`,
  //           createdAt: '2025-02-01T09:00:00.000Z',
  //           isPinned: false,
  //         },
  //       };

  //       const selectedNotice = dummyNotices[Number(noticeId)];
  //       if (selectedNotice) {
  //         setNotice(selectedNotice);
  //       }
  //       setLoading(false);
  //     }
  //   }, [noticeId]);

  const handleDelete = async () => {
    if (!noticeId) return;

    if (window.confirm('ì •ë§ë¡œ ì´ ê³µì§€ì‚¬í•­ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
      try {
        await axiosInstance.delete(`/notice/${noticeId}`);
        toast.success('ê³µì§€ì‚¬í•­ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
        navigate('/notice');
      } catch (err) {
        console.error('ê³µì§€ì‚¬í•­ ì‚­ì œ ì‹¤íŒ¨:', err);
        toast.error('ê³µì§€ì‚¬í•­ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
      }
    }
  };

  const handleEdit = () => {
    navigate(`/notice/${noticeId}/edit`);
  };

  if (loading) {
    return (
      <div className="container mx-auto px-4 py-2 text-center">ë¡œë”© ì¤‘...</div>
    );
  }

  if (!notice) {
    return (
      <div className="container mx-auto px-4 py-2">
        <button
          onClick={() => navigate('/notice')}
          className="mb-4 text-primary flex items-center gap-2"
        >
          <FaChevronLeft /> <span>ëª©ë¡ìœ¼ë¡œ</span>
        </button>
        <div className="text-center text-gray-500">
          ê³µì§€ì‚¬í•­ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        </div>
      </div>
    );
  }

  return (
    <div className="container mx-auto px-4 py-2 max-w-3xl">
      <div className="relative mb-6 h-16 flex items-center justify-center">
        <button
          className="absolute left-0 top-1/2 -translate-y-1/2 flex items-center justify-center w-8 h-8 text-gray-700 hover:text-primary sm:w-10 sm:h-10"
          onClick={() => navigate('/notice')}
          aria-label="ë’¤ë¡œê°€ê¸°"
        >
          <FaChevronLeft className="w-5 h-5 sm:w-6 sm:h-6" />
        </button>
        <h1 className="text-lg sm:text-2xl font-bold text-gray-800 mx-auto">
          ê³µì§€ì‚¬í•­
        </h1>
      </div>
      <div className="bg-white rounded-lg shadow-sm border border-gray-100 p-6">
        <div className="mb-6">
          <div className="flex items-center gap-2 mb-2">
            {notice.isPinned && (
              <span className="px-2 py-1 text-xs font-medium text-red-600 bg-red-50 rounded whitespace-nowrap">
                ì¤‘ìš”
              </span>
            )}
            <h2 className="text-xl font-bold text-gray-800 break-words overflow-hidden">
              {notice.title}
            </h2>
          </div>
          <p className="text-sm text-gray-500">
            {new Date(notice.createdAt).toLocaleDateString()}
          </p>
        </div>
        <div className="prose max-w-none">
          <div
            className="whitespace-pre-line text-gray-700 break-words overflow-hidden"
            dangerouslySetInnerHTML={{
              __html: DOMPurify.sanitize(notice.content || ''),
            }}
          />
        </div>
      </div>
      {isAdmin && (
        <div className="flex gap-2 mt-4 justify-end">
          <button
            type="button"
            className="flex items-center justify-center gap-1 px-6 py-2 sm:px-8 sm:py-2
             bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors shadow-sm
             text-sm sm:text-base text-gray-700"
            onClick={handleEdit}
          >
            ìˆ˜ì •
          </button>
          <button
            type="button"
            className="flex items-center justify-center gap-1 px-6 py-2 sm:px-8 sm:py-2
             bg-primary hover:bg-primary-dark rounded-lg transition-colors shadow-sm
             text-sm sm:text-base text-white"
            onClick={handleDelete}
          >
            ì‚­ì œ
          </button>
        </div>
      )}
    </div>
  );
};

export default NoticeDetailPage;
